# GenTech #4 / Jan 8, 2024

## Ссылки

- [UUID](https://ru.wikipedia.org/wiki/UUID)
- [Онлайн-генератор UUIDv4](https://www.uuidgenerator.net/version4)
- [Онлайн-хеширование паролей](https://emn178.github.io/online-tools/sha256.html)
- [Пример БД “онлайн-школа”](https://dbdiagram.io/d/online_school_jan_8_2024-659c52c1ac844320ae7bc80a)

## Проектирование баз данных

- один из этапов (подэтап) проектирования программного продукта
- сводится к определению схемы БД, включая связи между сущностями (таблицами, коллекциями)

## Ключевые поля

- **первичный ключ** - идентификатор каждой сущности (объекта)
- **внешний ключ** - необходим для связи между таблицами

## Первичный ключ

**Свойства**

- уникальный
- не пустой
- неизменяемый

**Стандартные подходы к определению значения**

1. Авто-инкремент
2. `UUID`, `GUID`, `ULID` - случайные значения

## Общие вопросы эксплуатации БД и СУБД

1. На одном сервере могут находиться несколько **СУБД** (**DBMS**)
    1. **Сетевой порт** - сетевой идентификатор процесса (программы)
2. В одной **СУБД** может находиться **БД**
3. В одной **БД** может храниться несколько типов сущностей

1. **Стандартный поход: ОДНА СУЩНОСТЬ == ОДНА ЗАПИСЬ**
2. **Стандартный поход: ОДНА БД == ОДИН ПРОЕКТ**

## Общие этапы проектирования БД

1. Анализ предметной области (бизнес-процессов)
2. Выделение сущностей и их характеристик
3. Связывание сущностей между собой (установление связей)
    - с помощью ключей (ключевых полей)
    - как правило, применяются для связи ключ `первичный` и `внешний`
4. Проверка решения

## Базовые типы связей между сущностями

- `1:1` (один к одному)
- `1:M` (один ко многим) - самый распространенный
- `M:M` (многие ко многим)

## Пример определения связей в БД “онлайн-магазин: песочница”

1. `Orders.CustomerID (M:1) Customers.CustomerID`
2. `Orders.OrderID (1:M) OrderDetails.OrderID`
3. `Orders.EmployeeID (M:1) Employees.EmployeeID`
4. `Orders.ShipperID (M:1) Shippers.ShipperID`
5. `OrderDetails.ProductID (M:1) Products.ProductID`
6. `Products.SupplierID (M:1) Suppliers.SupplierID`
7. `Products.CategoryID (M:1) Categories.CategoryID`

## Основные типы данных в MySQL

- каждый столбец (поле) таблицы должен иметь указание на тип данных

### Числовые

- `int` / `integer`
- `float`

### Строковые

- `varchar(x)`
    - `x` - макс. ко-во символов
- `text(x)`
    - `x` - макс. ко-во символов

### Логические

- `bool`

### Дата / время

- `datetime`
- `**timestamp**`
- `date`
- `time`

## Видео-хостинг

**Базовые сущности**

- `юзеры`
- `видео-ролики`
- `реакции (на видео)`
- `комментарии (к видео)`
- `плейлисты`